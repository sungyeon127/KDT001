<!-- 김성연 슬롯머신 2025.04.03 -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>떳냐???</title>
    <style>
        /* 평범한 css 파일.  슬롯머신처럼 보이기 위해 노력을 햇음 */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    text-align: center;
}

.machine{
    margin: 500px auto;
    padding: 500px;
    border: 2px solid #252525;
    border-radius: 20px;
    box-shadow: 2px 2px 10px;
    background-color: #474747;
    width: 500px;
    min-height:200px;
}
.re_role{
    margin: 0 auto;
}
.re_role td{
    border: 3px solid gold;
    width: 120px;
    height: 120px;
}
.btn{
    background-color: gold;
    border-radius: 20px;
    width: 120px;
    height: 50px;
    margin-top: 50px;
    font-size: 20px;
    font-weight: bold;
}
.slot{
    font-size: 36px;
}
.result{
    height: 30px;
}
.result p{
    font-size: 30px;
    font-weight: bold;
    color: beige;
}
    </style>
</head>
<body>
    <!-- 도박은 나쁜것임을 알려주는 header들 -->
    <h1>IBM X Redhat 도박 중독 치료 사이트</h1>
    <div>
        <h3>공수래 공수거</h3>
        <h5>돈을 쫒지 마십시오... 모든것은 허상일 뿐... 순간의 도박에 모든걸 잃지 말아주세요...</h5>
        
        <div class="machine">
            <!-- 슬롯머신 -->
            <table class="re_role">
                <tr>
                    <td><p class="slot" id="slot1"></p></td>
                    <td><p class="slot" id="slot2"></p></td>
                    <td><p class="slot" id="slot3"></p></td>
                </tr>
            </table>
            <!-- 결과 값 -->
            <div class="result">
                <p id="result">버튼을 누르면 머신이 돌아갑니다</p>
            </div>
            <!-- 게임 플레이버튼 -->
            <button class="btn" onclick="rolling()">한판 더 !</button>
        </div>
    </div>
    <script>
        const icon=['🍀', '⭐', '⛄', '💘', '🐬'];
//각 슬롯별 아이콘 랜덤
function getRandomIcon1() {
    const randomIndex1 = Math.floor(Math.random() * 5);
    return randomIndex1;  
}
function getRandomIcon2() {
    const randomIndex2 = Math.floor(Math.random() * 5);
    return randomIndex2;   
}
function getRandomIcon3() {
    const randomIndex3 = Math.floor(Math.random() * 5);
    return randomIndex3;   
}
//페이지 로드시 각 슬롯에 랜덤 아이콘 부여
document.getElementById("slot1").innerHTML=icon[getRandomIcon1()];
document.getElementById("slot2").innerHTML=icon[getRandomIcon2()];
document.getElementById("slot3").innerHTML=icon[getRandomIcon3()];


//버튼 클릭 이벤트
function rolling(){
    //버튼 클릭시 슬롯머신 클릭버튼 비활성화
    let button = document.querySelector(".btn")
    button.disabled = true;
    button.style.backgroundColor = "goldenrod";
    document.getElementById("result").innerHTML="빙글빙글";
    //버튼 클릭시 아이콘이 0.05초마다 변경(슬롯머신이 돌아가는것 처럼 구현)
    let interval = setInterval(() => {
        document.getElementById("slot1").innerHTML = icon[getRandomIcon1()];
        document.getElementById("slot2").innerHTML = icon[getRandomIcon2()];
        document.getElementById("slot3").innerHTML = icon[getRandomIcon3()];
    }, 50);

    //버튼 클릭 이후 1초가 지나면 실행되는 이벤트
    setTimeout(() => {
        clearInterval(interval);
        
        // 실제로 표시되는 아이콘 표시
        let slot1 = getRandomIcon1();
        let slot2 = getRandomIcon2();
        let slot3 = getRandomIcon3();
        document.getElementById("slot1").innerHTML=icon[slot1];
        document.getElementById("slot2").innerHTML=icon[slot2];
        document.getElementById("slot3").innerHTML=icon[slot3];

        //각 상황 별 결과값 도출(if문 안좋아하시는거 알고있는데, 사실 제가 if문을 좀 좋아합니다.  시간이 촉박해서 그래요 다음에는 swich문으로 할게요 ^^7)
        let resultText = "";
        if (slot1 == slot2 && slot2 == slot3) {
            resultText = "대박(3개 맞음)";
        } else if (slot1 == slot2 || slot1 == slot3 || slot2 == slot3) {
            resultText = "굿(2개 맞음)"; 
        } else {
            resultText = "ㅠㅠ"; 
        }
        document.getElementById("result").innerHTML=resultText;

        //결과 표시 이후 버튼 비활성화 취소
        button.disabled = false;
        button.style.backgroundColor = "gold";
    }, 1000);
}
    </script>
</body>
</html>
